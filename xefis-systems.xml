<?xml version='1.0'?>
<xefis-include>
	<modules>
		<module disabled='true' name='generic/fps'/>
		<!--module name='systems/state'>
			<var name='fd-lateral-mode' path='/systems/flight-director/settings/lateral-mode'/>
			<var name='fd-vertical-mode' path='/systems/flight-director/settings/vertical-mode'/>
			<property path='/systems/fms/localizer/type' type='string'>
				<default>ILS</default>
			</property>
			<property path='/systems/fms/localizer/identifier' type='string'>
				<default>ILOD</default>
			</property>
			<property path='/systems/fms/position/source' type='string'>
				<default>GPS</default>
			</property>
			<property path='/systems/fms/settings/follow-track' type='boolean'>
				<default>true</default>
			</property>
			<property path='/systems/fms/settings/use-true-heading' type='boolean'>
				<default>false</default>
			</property>
			<property path='/systems/fms/settings/standard-pressure-on' type='boolean'>
				<default>false</default>
			</property>
			<property path='/systems/fms/settings/pressure-display-hpa' type='boolean'>
				<default>false</default>
			</property>
			<property path='/sensors/engine/n1-setting.pct' type='float'>
				<default>0</default>
			</property>
			<property path='/sensors/engine/n2-setting.pct' type='float'>
				<default>0</default>
			</property>
			<property path='/sensors/gps/lateral-accuracy.nm' type='float'>
				<default>0</default>
			</property>
			<property path='/sensors/gps/vertical-accuracy.ft' type='float'>
				<default>0</default>
			</property>
			<property path='/systems/flight-director/settings/lateral-mode' type='integer'>
				<min>0</min>
				<max>2</max>
				<winding>true</winding>
			</property>
			<property path='/systems/flight-director/settings/vertical-mode' type='integer'>
				<min>0</min>
				<max>3</max>
				<winding>true</winding>
			</property>
			<property path='/instruments/hsi-nav/display-mode' type='integer'>
				<min>0</min>
				<max>1</max>
				<winding>true</winding>
			</property>
			<property path='/instruments/hsi-aux/range.nm' type='float'>
				<min>1 kt</min>
				<max>50 kt</max>
			</property>
			<property path='/instruments/hsi-nav/range.nm' type='float'>
				<min>1</min>
				<max>100</max>
			</property>
			<include name='xefis-x52pro.xml'/>
			<observe var='t1'>
				<if var='t1' equals='true'>
					<toggle path='/systems/fms/settings/pressure-display-hpa'/>
				</if>
			</observe>
			<observe var='t2'>
				<if var='t2' equals='true'>
					<toggle path='/systems/fms/settings/standard-pressure-on'/>
				</if>
			</observe>
			<observe var='t3'>
				<if var='t3' equals='true'>
					<toggle path='/systems/fms/settings/follow-track'/>
				</if>
			</observe>
			<observe var='t4'>
				<if var='t4' equals='true'>
					<toggle path='/instruments/efis/approach/visible'/>
				</if>
			</observe>
			<observe var='t5'>
				<if var='t5' equals='true'>
				</if>
			</observe>
			<observe var='t6'>
				<if var='t6' equals='true'>
					<toggle path='/instruments/efis/flight-director/visible'/>
				</if>
			</observe>
			<observe var='mode-1'>
				<if var='mode-1' equals='true'>
					<set path='/instruments/efis/control/hint-visible' value='true'/>
					<set path='/instruments/efis/control/hint' value='DIRECT'/>
					<set path='/instruments/efis/control-stick/visible' value='false'/>
					<set path='/systems/flight-director/settings/enabled' value='false'/>
					<set path='/systems/fly-by-wire/config/mode' value='0'/>
				</if>
			</observe>
			<observe var='mode-2'>
				<if var='mode-2' equals='true'>
					<set path='/instruments/efis/control/hint-visible' value='false'/>
					<set path='/instruments/efis/control-stick/visible' value='true'/>
					<set path='/systems/flight-director/settings/enabled' value='false'/>
					<set path='/systems/fly-by-wire/config/mode' value='1'/>
				</if>
			</observe>
			<observe var='mode-3'>
				<if var='mode-3' equals='true'>
					<set path='/instruments/efis/control/hint-visible' value='true'/>
					<set path='/instruments/efis/control/hint' value='CMD'/>
					<set path='/systems/flight-director/settings/enabled' value='true'/>
					<set path='/instruments/efis/control-stick/visible' value='false'/>
					<set path='/systems/fly-by-wire/config/mode' value='2'/>
				</if>
			</observe>
			<observe var='mfdstartstop'>
				<if var='mfdstartstop' equals='true'>
					<add path='/systems/flight-director/settings/vertical-mode' value='1'/>
				</if>
			</observe>
			<observe var='mfdreset'>
				<if var='mfdreset' equals='true'>
					<add path='/systems/flight-director/settings/lateral-mode' value='1'/>
				</if>
			</observe>
			<observe var='function-up'>
				<if var='function-up' equals='true'>
					<choose>
						<when path='/instruments/hsi-aux/range.nm' less-or-equals='2 nm'>
							<sub path='/instruments/hsi-aux/range.nm' value='1 nm'/>
						</when>
						<when path='/instruments/hsi-aux/range.nm' less-or-equals='20 nm'>
							<sub path='/instruments/hsi-aux/range.nm' value='2 nm'/>
						</when>
						<when path='/instruments/hsi-aux/range.nm' less-or-equals='60 nm'>
							<sub path='/instruments/hsi-aux/range.nm' value='10 nm'/>
						</when>
						<when path='/instruments/hsi-aux/range.nm' less-or-equals='100 nm'>
							<sub path='/instruments/hsi-aux/range.nm' value='20 nm'/>
						</when>
						<otherwise>
							<sub path='/instruments/hsi-aux/range.nm' value='50 nm'/>
						</otherwise>
					</choose>
				</if>
			</observe>
			<observe var='function-down'>
				<if var='function-down' equals='true'>
					<choose>
						<when path='/instruments/hsi-aux/range.nm' less-than='2 nm'>
							<add path='/instruments/hsi-aux/range.nm' value='1 nm'/>
						</when>
						<when path='/instruments/hsi-aux/range.nm' less-than='20 nm'>
							<add path='/instruments/hsi-aux/range.nm' value='2 nm'/>
						</when>
						<when path='/instruments/hsi-aux/range.nm' less-than='60 nm'>
							<add path='/instruments/hsi-aux/range.nm' value='10 nm'/>
						</when>
						<when path='/instruments/hsi-aux/range.nm' less-than='100 nm'>
							<add path='/instruments/hsi-aux/range.nm' value='20 nm'/>
						</when>
						<otherwise>
							<add path='/instruments/hsi-aux/range.nm' value='50 nm'/>
						</otherwise>
					</choose>
				</if>
			</observe>
			<observe var='mfdselect-up'>
				<if var='mfdselect-up' equals='true'>
					<choose>
						<when path='/instruments/hsi-nav/range.nm' less-or-equals='2 nm'>
							<sub path='/instruments/hsi-nav/range.nm' value='1 nm'/>
						</when>
						<when path='/instruments/hsi-nav/range.nm' less-or-equals='20 nm'>
							<sub path='/instruments/hsi-nav/range.nm' value='2 nm'/>
						</when>
						<when path='/instruments/hsi-nav/range.nm' less-or-equals='60 nm'>
							<sub path='/instruments/hsi-nav/range.nm' value='10 nm'/>
						</when>
						<when path='/instruments/hsi-nav/range.nm' less-or-equals='100 nm'>
							<sub path='/instruments/hsi-nav/range.nm' value='20 nm'/>
						</when>
						<otherwise>
							<sub path='/instruments/hsi-nav/range.nm' value='50 nm'/>
						</otherwise>
					</choose>
				</if>
			</observe>
			<observe var='mfdselect-down'>
				<if var='mfdselect-down' equals='true'>
					<choose>
						<when path='/instruments/hsi-nav/range.nm' less-than='2 nm'>
							<add path='/instruments/hsi-nav/range.nm' value='1 nm'/>
						</when>
						<when path='/instruments/hsi-nav/range.nm' less-than='20 nm'>
							<add path='/instruments/hsi-nav/range.nm' value='2 nm'/>
						</when>
						<when path='/instruments/hsi-nav/range.nm' less-than='60 nm'>
							<add path='/instruments/hsi-nav/range.nm' value='10 nm'/>
						</when>
						<when path='/instruments/hsi-nav/range.nm' less-than='100 nm'>
							<add path='/instruments/hsi-nav/range.nm' value='20 nm'/>
						</when>
						<otherwise>
							<add path='/instruments/hsi-nav/range.nm' value='50 nm'/>
						</otherwise>
					</choose>
				</if>
			</observe>
			<observe var='mfdselect-press'>
				<if var='mfdselect-press' equals='true'>
					<add path='/instruments/hsi-nav/display-mode' value='1 nm'/>
				</if>
			</observe>
			<observe var='fd-lateral-mode'>
				<choose>
					<when var='fd-lateral-mode' equals='1'>
						<set path='/systems/flight-director/hints/lateral-hint' value='HDG HOLD'/>
					</when>
					<when var='fd-lateral-mode' equals='2'>
						<set path='/systems/flight-director/hints/lateral-hint' value='TRK HOLD'/>
					</when>
					<otherwise>
						<set path='/systems/flight-director/hints/lateral-hint' value=''/>
					</otherwise>
				</choose>
			</observe>
			<observe var='fd-vertical-mode'>
				<choose>
					<when var='fd-vertical-mode' equals='1'>
						<set path='/systems/flight-director/hints/vertical-hint' value='ALT HOLD'/>
					</when>
					<when var='fd-vertical-mode' equals='2'>
						<set path='/systems/flight-director/hints/vertical-hint' value='V/SPD'/>
					</when>
					<when var='fd-vertical-mode' equals='3'>
						<set path='/systems/flight-director/hints/vertical-hint' value='FPA'/>
					</when>
					<otherwise>
						<set path='/systems/flight-director/hints/vertical-hint' value=''/>
					</otherwise>
				</choose>
			</observe>
		</module-->
		<module name='systems/lookahead'>
			<input>/systems/fms/altitude/amsl.ft</input>
			<output>/systems/fms/altitude/amsl-lookahead.ft</output>
			<smoothing>500</smoothing>
			<minimum-integration-time>0.03</minimum-integration-time>
			<properties>
				<property name='lookahead-time' path='/systems/fms/settings/altitude/amsl-lookahead-duration.s' default='10 s'/>
			</properties>
		</module>
		<module name='systems/mouse'>
			<dead-zone-x>0.05</dead-zone-x>
			<dead-zone-y>0.05</dead-zone-y>
			<acceleration-x>2.0</acceleration-x>
			<acceleration-y>2.0</acceleration-y>
			<speed-x>1.0</speed-x>
			<speed-y>1.0</speed-y>
			<properties>
				<property name='axis-x' path='/input/main/axis/9'/>
				<property name='axis-y' path='/input/main/axis/10'/>
				<property name='button' path='/input/main/button/15'/>
			</properties>
		</module>
		<module name='systems/flight-director'>
			<properties>
				<directory path='/systems/flight-director/settings'>
					<property name='enabled' path='/enabled' default='false'/>
					<property name='lateral-mode' path='/lateral-mode' default='0'/>
					<property name='vertical-mode' path='/vertical-mode' default='0'/>
					<property name='selected-magnetic-heading' path='/magnetic-heading-and-track.deg' default='0 deg'/>
					<property name='selected-magnetic-track' path='/magnetic-heading-and-track.deg' default='0 deg'/>
					<property name='selected-altitude' path='/altitude.ft' default='0 ft'/>
					<property name='selected-vertical-speed' path='/vertical-speed.fpm' default='0 fpm'/>
					<property name='selected-fpa' path='/fpa.deg' default='-3 deg'/>
				</directory>
				<directory path='/systems/flight-director/configuration'>
					<property name='pitch-limit' path='/pitch-limit.deg' default='7 deg'/>
					<property name='roll-limit' path='/roll-limit.deg' default='25 deg'/>
				</directory>
				<directory path='/'>
					<property name='measured-magnetic-heading' path='/sensors/compass/magnetic-heading.deg'/>
					<property name='measured-magnetic-track' path='/systems/fms/flight-path/magnetic-track.deg'/>
					<property name='measured-altitude' path='/systems/fms/altitude/amsl.ft'/>
					<property name='measured-vertical-speed' path='/systems/fms/altitude/vertical-speed.fpm'/>
					<property name='measured-fpa' path='/systems/fms/flight-path/alpha.deg'/>
					<property name='measured-pitch' path='/sensors/imu/pitch.deg'/>
					<property name='measured-roll' path='/sensors/imu/roll.deg'/>
				</directory>
				<directory path='/systems/flight-director'>
					<property name='output-pitch' path='/pitch.deg'/>
					<property name='output-roll' path='/roll.deg'/>
				</directory>
			</properties>
		</module>
		<module name='systems/fly-by-wire'>
			<properties>
				<directory path='/systems/fly-by-wire/config'>
					<property name='mode' path='/mode' default='0'/>
					<property name='stabilization-gain' path='/gain' default='1.0'/>
					<property name='pitch-gain' path='/pitch/gain' default='1.0'/>
					<property name='pitch-p' path='/pitch/p' default='10.0'/>
					<property name='pitch-i' path='/pitch/i' default='1.5'/>
					<property name='pitch-d' path='/pitch/d' default='0.5'/>
					<property name='pitch-error-power' path='/pitch/error-power' default='1.0'/>
					<property name='roll-gain' path='/roll/gain' default='1.0'/>
					<property name='roll-p' path='/roll/p' default='10.0'/>
					<property name='roll-i' path='/roll/i' default='1.5'/>
					<property name='roll-d' path='/roll/d' default='0.5'/>
					<property name='roll-error-power' path='/roll/error-power' default='1.0'/>
					<property name='yaw-gain' path='/yaw/gain' default='0.1'/>
					<property name='yaw-p' path='/yaw/p' default='0.1'/>
					<property name='yaw-i' path='/yaw/i' default='0.05'/>
					<property name='yaw-d' path='/yaw/d' default='0.01'/>
					<property name='yaw-error-power' path='/yaw/error-power' default='0.5'/>
					<property name='elevator-minimum' path='/elevator/minimum' default='-0.75'/>
					<property name='elevator-maximum' path='/elevator/maximum' default='+0.75'/>
					<property name='ailerons-minimum' path='/ailerons/minimum' default='-0.5'/>
					<property name='ailerons-maximum' path='/ailerons/maximum' default='+0.5'/>
					<property name='rudder-minimum' path='/rudder/minimum' default='-1.0'/>
					<property name='rudder-maximum' path='/rudder/maximum' default='+1.0'/>
					<property name='pitch-extent' path='/pitch-extent.deg' default='20 deg'/>
					<property name='roll-extent' path='/roll-extent.deg' default='25 deg'/>
				</directory>
				<directory path='/input'>
					<property name='input-pitch-axis' path='//input/main/axis/1'/>
					<property name='input-roll-axis' path='//input/main/axis/0'/>
					<property name='input-yaw-axis' path='//input/rudder/axis/2'/>
				</directory>
				<directory path='/systems/flight-director'>
					<property name='input-pitch' path='/pitch.deg'/>
					<property name='input-roll' path='/roll.deg'/>
				</directory>
				<directory path='/sensors'>
					<property name='measured-pitch' path='/imu/pitch.deg'/>
					<property name='measured-roll' path='/imu/roll.deg'/>
					<property name='measured-slip-skid' path='/slip-skid/slip-skid.g'/>
				</directory>
				<directory path='/systems/fly-by-wire'>
					<property name='output-pitch' path='/pitch.deg'/>
					<property name='output-roll' path='/roll.deg'/>
					<property name='output-control-stick-pitch' path='/control-stick/pitch.deg'/>
					<property name='output-control-stick-roll' path='/control-stick/roll.deg'/>
					<property name='output-elevator' path='/elevator'/>
					<property name='output-ailerons' path='/ailerons'/>
					<property name='output-rudder' path='/rudder'/>
				</directory>
			</properties>
		</module>
		<module name='systems/fms'>
			<properties path='/systems/fms'>
				<directory path='/settings'>
					<property name='settings.default-airplane-weight' path='/default-airplane-weight.kg' default='2.0'/>
					<property name='settings.actual-airplane-weight' path='/actual-airplane-weight.kg' default='2.0'/>
					<property name='settings.low-speed-roll-angle' path='/low-speed-roll-angle.deg' default='15 deg'/>
					<property name='settings.speed.v-a-default' path='/speeds/v-a-default.kt' default='90 kt'/>
					<property name='settings.speed.v-no-default' path='/speeds/v-no-default.kt' default='100 kt'/>
					<property name='settings.speed.v-ne' path='/speeds/v-ne.kt' default='140 kt'/>
					<property name='settings.speed.v-s' path='/speeds/v-s.kt' default='60 kt'/>
					<property name='settings.speed.v-s0' path='/speeds/v-s0.kt' default='53 kt'/>
					<property name='settings.speed.v-at' path='/speeds/v-at.kt' default='69 kt'/>
					<property name='settings.speed.v-fe' path='/speeds/v-fe.kt' default='90 kt'/>
					<property name='settings.speed.v-le' path='/speeds/v-le.kt' default='80 kt'/>
					<property name='settings.speed.v-o' path='/speeds/v-o.kt' default='130 kt'/>
					<property name='settings.speed.v-be' path='/speeds/v-be.kt' default='65 kt'/>
					<property name='settings.speed.v-bg' path='/speeds/v-bg.kt' default='65 kt'/>
					<property name='settings.speed.v-br' path='/speeds/v-br.kt' default='75 kt'/>
					<property name='settings.flaps-configuration-properties-path' path='/speeds/flaps-configuration-properties-path' default=''/>
				</directory>
				<directory path='//sensors'>
					<property name='imu.pitch' path='/imu/pitch.deg'/>
					<property name='imu.roll' path='/imu/roll.deg'/>
					<property name='imu.magnetic-heading' path='/compass/magnetic-heading.deg'/>
					<property name='imu.magnetic-heading-accuracy' path='/compass/magnetic-heading-accuracy.deg' default='5 deg'/>
					<property name='gps.longitude' path='/gps/longitude.deg'/>
					<property name='gps.latitude' path='/gps/latitude.deg'/>
					<property name='gps.altitude-amsl' path='/gps/altitude-amsl.ft'/>
					<property name='gps.accuracy' path='/gps/accuracy.nm' default='0.001 nm'/>
					<property name='gps.timestamp' path='/gps/update-timestamp.s'/>
					<property name='ins.longitude' path='/ins/'/>
					<property name='ins.latitude' path='/ins/'/>
					<property name='ins.altitude-amsl' path='/ins/'/>
					<property name='ins.accuracy' path='/ins/'/>
					<property name='ins.timestamp' path='/ins/'/>
					<property name='pressure.static' path='/pressure/pressure.inhg'/>
					<property name='pressure.qnh' path='/pressure/pressure-qnh.inhg' default='29.92 inhg'/>
					<property name='ias' path='/speed/ias.kt'/>
					<property name='backup-amsl' path='/backup-amsl.ft' default='0 ft'/>
					<property name='gear-down' path='/gear-down' default='false'/>
					<property name='outside-air-temperature' path='/temperature/outside.k'/>
				</directory>

				<directory path='/position'>
					<property name='position.longitude' path='/longitude.deg'/>
					<property name='position.latitude' path='/latitude.deg'/>
					<property name='position.altitude-amsl' path='/altitude-amsl.ft'/>
					<property name='position.accuracy' path='/accuracy.nm'/>
					<property name='position.source' path='/source'/>
				</directory>
				<directory path='/track'>
					<property name='track.vertical' path='/vertical.deg'/>
					<property name='track.true-heading' path='/true-heading.deg'/>
					<property name='track.magnetic-heading' path='/magnetic-heading.deg'/>
					<property name='track.vertical-delta' path='/vertical-delta.deg'/>
					<property name='track.heading-delta' path='/heading-delta.deg'/>
				</directory>
				<directory path='/orientation'>
					<property name='orientation.pitch' path='/pitch.deg'/>
					<property name='orientation.roll' path='/roll.deg'/>
					<property name='orientation.true-heading' path='/true-heading.deg'/>
					<property name='orientation.magnetic-heading' path='/magnetic-heading.deg'/>
				</directory>
				<directory path='/pressure-altitude'>
					<property name='pressure-altitude.amsl' path='/amsl.ft'/>
					<property name='pressure-altitude.amsl-lookahead' path='/amsl-lookahead.ft'/>
					<property name='pressure-altitude.amsl-lookahead-time' path='/amsl-lookahead-time.s'/>
					<property name='pressure-altitude.climb-rate' path='/climb-rate.fpm'/>
				</directory>
				<directory path='/speed'>
					<property name='speed.v-r' path='/v-r.kt'/>
					<property name='speed.v-ref' path='/v-ref.kt'/>
					<property name='speed.v-a' path='/v-a.kt'/>
					<property name='speed.v-no' path='/v-no.kt'/>
					<property name='speed.minimum-ias' path='/minimum-ias.kt'/>
					<property name='speed.minimum-maneuver-ias' path='/minimum-maneuver-ias.kt'/>
					<property name='speed.maximum-ias' path='/maximum-ias.kt'/>
					<property name='speed.maximum-maneuver-ias' path='/maximum-maneuver-ias.kt'/>
					<property name='speed.ias-lookahead' path='/ias-lookahead.kt'/>
					<property name='speed.ias-lookahead-time' path='/ias-lookahead-time.s'/>
					<property name='speed.true-airspeed' path='/true-airspeed.kt'/>
					<property name='speed.ground-speed' path='/ground-speed.kt'/>
					<property name='speed.mach' path='/mach'/>
					<property name='speed.sound' path='/sound.kt'/>
				</directory>
				<directory path='/aoa'>
					<property name='aoa.relative-pitch-limit' path='/relative-pitch-limit.deg'/>
					<property name='aoa.alpha' path='/alpha.deg'/>
					<property name='aoa.beta' path='/beta.deg'/>
				</directory>
				<directory path='/wind'>
					<property name='wind.true-heading' path='/true-orientation-from.deg'/>
					<property name='wind.magnetic-heading' path='/magnetic-orientation-from.deg'/>
					<property name='wind.true-airspeed' path='/true-airspeed.kt'/>
				</directory>
				<directory path='/localizer'>
					<property name='localizer.vertical-deviation' path='/vertical-deviation.deg'/>
					<property name='localizer.lateral-deviation' path='/lateral-deviation.deg'/>
					<property name='localizer.identifier' path='/identifier'/>
					<property name='localizer.source' path='/source'/>
					<property name='localizer.distance' path='/distance.nm'/>
					<property name='localizer.frequency' path='/frequency.hz'/>
				</directory>
				<directory path='/performance'>
					<property name='performance.climb-glide-ratio' path='/climb-glide-ratio'/>
					<property name='density-altitude' path='/density-altitude.ft'/>
				</directory>
				<directory path='/magnetic'>
					<property name='magnetic-declination' path='/magnetic-declination.deg'/>
					<property name='magnetic-inclination' path='/magnetic-inclination.deg'/>
				</directory>
			</properties>
		</module>
	</modules>
</xefis-include>

