<?xml version='1.0'?>
<xefis-include>
	<modules>
		<module disabled='true' name='generic/fps'/>
		<module name='systems/state'>
			<property path='/systems/fms/output/localizer/type' type='string'>
				<default>ILS</default>
			</property>
			<property path='/systems/fms/output/localizer/identifier' type='string'>
				<default>ILOD</default>
			</property>
			<property path='/systems/fms/output/position/source' type='string'>
				<default>GPS</default>
			</property>
			<property path='/systems/fms/settings/standard-pressure-on' type='boolean'>
				<default>false</default>
			</property>
			<property path='/systems/fms/settings/pressure-display-hpa' type='boolean'>
				<default>false</default>
			</property>
			<property path='/sensors/engine/n1-setting.pct' type='integer'>
				<default>0</default>
			</property>
			<property path='/sensors/engine/n2-setting.pct' type='integer'>
				<default>0</default>
			</property>
			<property path='/sensors/gps/lateral-accuracy.nm' type='integer'>
				<default>0</default>
			</property>
			<property path='/sensors/gps/vertical-accuracy.ft' type='integer'>
				<default>0</default>
			</property>
			<property path='/instruments/hsi-nav/display-mode' type='integer'>
				<min>0</min>
				<max>1</max>
				<winding>true</winding>
			</property>
			<property path='/instruments/hsi-aux/range.kt' type='integer'>
				<min>1</min>
				<max>50</max>
			</property>
			<property path='/instruments/hsi-nav/range.kt' type='integer'>
				<min>1</min>
				<max>100</max>
			</property>
			<include name='xefis-x52pro.xml'/>
			<observe var='t1'>
				<if var='t1' equals='true'>
					<toggle path='/systems/fms/settings/pressure-display-hpa'/>
				</if>
			</observe>
			<observe var='t2'>
				<if var='t2' equals='true'>
					<toggle path='/systems/fms/settings/standard-pressure-on'/>
				</if>
			</observe>
			<observe var='t3'>
				<if var='t3' equals='true'>
					<toggle path='/instruments/efis/flight-path-marker/visible'/>
				</if>
			</observe>
			<observe var='t4'>
				<if var='t4' equals='true'>
					<toggle path='/instruments/efis/navinfo/visible'/>
				</if>
			</observe>
			<observe var='t5'>
				<if var='t5' equals='true'>
					<toggle path='/instruments/efis/control-stick/visible'/>
				</if>
			</observe>
			<observe var='t6'>
				<if var='t6' equals='true'>
					<toggle path='/instruments/efis/flight-director/visible'/>
				</if>
			</observe>
			<observe var='mode-2'>
				<choose>
					<when var='mode-2' equals='true'>
						<set path='/instruments/efis/control/hint-visible' value='true'/>
						<set path='/instruments/efis/control/hint' value='A/P'/>
						<set path='/systems/autopilot/settings/enabled' value='true'/>
					</when>
					<otherwise>
						<set path='/instruments/efis/control/hint-visible' value='false'/>
						<set path='/systems/autopilot/settings/enabled' value='false'/>
					</otherwise>
				</choose>
			</observe>
			<observe var='function-up'>
				<if var='function-up' equals='true'>
					<choose>
						<when path='/instruments/hsi-aux/range.kt' less-or-equals='2'>
							<sub path='/instruments/hsi-aux/range.kt' value='1'/>
						</when>
						<when path='/instruments/hsi-aux/range.kt' less-or-equals='20'>
							<sub path='/instruments/hsi-aux/range.kt' value='2'/>
						</when>
						<when path='/instruments/hsi-aux/range.kt' less-or-equals='60'>
							<sub path='/instruments/hsi-aux/range.kt' value='10'/>
						</when>
						<when path='/instruments/hsi-aux/range.kt' less-or-equals='100'>
							<sub path='/instruments/hsi-aux/range.kt' value='20'/>
						</when>
						<otherwise>
							<sub path='/instruments/hsi-aux/range.kt' value='50'/>
						</otherwise>
					</choose>
				</if>
			</observe>
			<observe var='function-down'>
				<if var='function-down' equals='true'>
					<choose>
						<when path='/instruments/hsi-aux/range.kt' less-than='2'>
							<add path='/instruments/hsi-aux/range.kt' value='1'/>
						</when>
						<when path='/instruments/hsi-aux/range.kt' less-than='20'>
							<add path='/instruments/hsi-aux/range.kt' value='2'/>
						</when>
						<when path='/instruments/hsi-aux/range.kt' less-than='60'>
							<add path='/instruments/hsi-aux/range.kt' value='10'/>
						</when>
						<when path='/instruments/hsi-aux/range.kt' less-than='100'>
							<add path='/instruments/hsi-aux/range.kt' value='20'/>
						</when>
						<otherwise>
							<add path='/instruments/hsi-aux/range.kt' value='50'/>
						</otherwise>
					</choose>
				</if>
			</observe>
			<observe var='mfdselect-up'>
				<if var='mfdselect-up' equals='true'>
					<choose>
						<when path='/instruments/hsi-nav/range.kt' less-or-equals='2'>
							<sub path='/instruments/hsi-nav/range.kt' value='1'/>
						</when>
						<when path='/instruments/hsi-nav/range.kt' less-or-equals='20'>
							<sub path='/instruments/hsi-nav/range.kt' value='2'/>
						</when>
						<when path='/instruments/hsi-nav/range.kt' less-or-equals='60'>
							<sub path='/instruments/hsi-nav/range.kt' value='10'/>
						</when>
						<when path='/instruments/hsi-nav/range.kt' less-or-equals='100'>
							<sub path='/instruments/hsi-nav/range.kt' value='20'/>
						</when>
						<otherwise>
							<sub path='/instruments/hsi-nav/range.kt' value='50'/>
						</otherwise>
					</choose>
				</if>
			</observe>
			<observe var='mfdselect-down'>
				<if var='mfdselect-down' equals='true'>
					<choose>
						<when path='/instruments/hsi-nav/range.kt' less-than='2'>
							<add path='/instruments/hsi-nav/range.kt' value='1'/>
						</when>
						<when path='/instruments/hsi-nav/range.kt' less-than='20'>
							<add path='/instruments/hsi-nav/range.kt' value='2'/>
						</when>
						<when path='/instruments/hsi-nav/range.kt' less-than='60'>
							<add path='/instruments/hsi-nav/range.kt' value='10'/>
						</when>
						<when path='/instruments/hsi-nav/range.kt' less-than='100'>
							<add path='/instruments/hsi-nav/range.kt' value='20'/>
						</when>
						<otherwise>
							<add path='/instruments/hsi-nav/range.kt' value='50'/>
						</otherwise>
					</choose>
				</if>
			</observe>
			<observe var='mfdselect-press'>
				<if var='mfdselect-press' equals='true'>
					<add path='/instruments/hsi-nav/display-mode' value='1'/>
				</if>
			</observe>
		</module>
		<module name='systems/lookahead'>
			<input>/systems/fms/output/altitude/amsl.ft</input>
			<output>/systems/fms/output/altitude/amsl-lookahead.ft</output>
			<smoothing>500</smoothing>
			<minimum-integration-time>0.01</minimum-integration-time>
			<properties>
				<property name='lookahead-time' path='/systems/fms/settings/altitude/amsl-lookahead-duration.s' default='10'/>
			</properties>
		</module>
		<module name='systems/mouse'>
			<dead-zone-x>0.05</dead-zone-x>
			<dead-zone-y>0.05</dead-zone-y>
			<acceleration-x>2.0</acceleration-x>
			<acceleration-y>2.0</acceleration-y>
			<speed-x>1.0</speed-x>
			<speed-y>1.0</speed-y>
			<properties>
				<property name='axis-x' path='/input/main/axis/9'/>
				<property name='axis-y' path='/input/main/axis/10'/>
				<property name='button' path='/input/main/button/15'/>
			</properties>
		</module>
		<module name='systems/ap'>
			<properties>
				<directory path='/systems/autopilot/settings'>
					<property name='autopilot-enabled' path='/enabled' default='false'/>
					<property name='bank-limit' path='/bank-limit.deg' default='15'/>
					<property name='yank-limit' path='/yank-limit.deg' default='7'/>
					<property name='vertical-mode' path='/vertical-mode' default='0'/>
					<property name='pitch-axis-dead-zone' path='/input/main/dead-zone/1' default='0.05'/>
					<property name='roll-axis-dead-zone' path='/input/main/dead-zone/0' default='0.05'/>
					<property name='max-pitch-angle' path='/max-pitch-angle.deg' default='15'/>
					<property name='max-roll-angle' path='/max-roll-angle.deg' default='25'/>
					<property name='selected-ias' path='/ias.kt'/>
					<property name='selected-altitude' path='/altitude.ft'/>
					<property name='selected-climb-rate' path='/cbr.fpm'/>
					<property name='selected-mag-heading' path='/heading.deg'/>
				</directory>
				<directory path='/'>
					<property name='measured-mag-heading' path='/sensors/compass/magnetic-heading.deg'/>
					<property name='measured-altitude' path='/systems/fms/altitude/amsl.ft'/>
					<property name='measured-climb-rate' path='/systems/fms/altitude/climb-rate.fpm'/>
					<property name='measured-pitch' path='/sensors/imu/pitch.deg'/>
					<property name='measured-roll' path='/sensors/imu/roll.deg'/>
				</directory>
				<directory path='/input'>
					<property name='input-pitch-axis' path='//input/main/axis/1'/>
					<property name='input-roll-axis' path='//input/main/axis/0'/>
				</directory>
				<directory path='/systems/autopilot/output'>
					<property name='output-pitch' path='/pitch.deg'/>
					<property name='output-roll' path='/roll.deg'/>
					<property name='output-control-stick-pitch' path='/control-stick/pitch.deg'/>
					<property name='output-control-stick-roll' path='/control-stick/roll.deg'/>
				</directory>
			</properties>
		</module>
		<module name='systems/stabilizer'>
			<properties>
				<directory path='/systems/stabilizer/config'>
					<property name='stabilization-gain' path='/gain' default='1.0'/>
					<property name='pitch-gain' path='/pitch/gain' default='1.0'/>
					<property name='pitch-p' path='/pitch/p' default='10.0'/>
					<property name='pitch-i' path='/pitch/i' default='1.5'/>
					<property name='pitch-d' path='/pitch/d' default='0.5'/>
					<property name='pitch-error-power' path='/pitch/error-power' default='1.0'/>
					<property name='roll-gain' path='/roll/gain' default='1.0'/>
					<property name='roll-p' path='/roll/p' default='10.0'/>
					<property name='roll-i' path='/roll/i' default='1.5'/>
					<property name='roll-d' path='/roll/d' default='0.5'/>
					<property name='roll-error-power' path='/roll/error-power' default='1.0'/>
					<property name='yaw-gain' path='/yaw/gain' default='0.1'/>
					<property name='yaw-p' path='/yaw/p' default='0.1'/>
					<property name='yaw-i' path='/yaw/i' default='0.05'/>
					<property name='yaw-d' path='/yaw/d' default='0.01'/>
					<property name='yaw-error-power' path='/yaw/error-power' default='0.5'/>
					<property name='elevator-minimum' path='/elevator/minimum' default='-0.75'/>
					<property name='elevator-maximum' path='/elevator/maximum' default='+0.75'/>
					<property name='ailerons-minimum' path='/ailerons/minimum' default='-0.5'/>
					<property name='ailerons-maximum' path='/ailerons/maximum' default='+0.5'/>
					<property name='rudder-minimum' path='/rudder/minimum' default='-1.0'/>
					<property name='rudder-maximum' path='/rudder/maximum' default='+1.0'/>
				</directory>
				<directory path='/systems/autopilot/output'>
					<property name='input-pitch' path='/pitch.deg'/>
					<property name='input-roll' path='/roll.deg'/>
					<property name='input-yaw-axis' path='//input/rudder/axis/2'/>
				</directory>
				<directory path='/sensors'>
					<property name='measured-pitch' path='/imu/pitch.deg'/>
					<property name='measured-roll' path='/imu/roll.deg'/>
					<property name='measured-slip-skid' path='/slip-skid/slip-skid.g'/>
				</directory>
				<directory path='/systems/stabilizer/output'>
					<property name='output-elevator' path='/elevator'/>
					<property name='output-ailerons' path='/ailerons'/>
					<property name='output-rudder' path='/rudder'/>
				</directory>
			</properties>
		</module>
	</modules>
</xefis-include>

