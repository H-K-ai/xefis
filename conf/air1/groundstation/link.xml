<?xml version='1.0'?>
<xefis-include>
	<module name='io/link' instance='input'>
		<properties>
			<property name='link-valid' path='/link/local/valid'/>
			<property name='failsafes' path='/link/local/failsafes'/>
			<property name='reacquires' path='/link/local/reacquires'/>
			<property name='error-bytes' path='/link/local/error-bytes'/>
			<property name='valid-packets' path='/link/local/valid-packets'/>
		</properties>
		<input failsafe-after='500 ms' reacquire-after='150 ms'>
			<udp>
				<host>192.168.0.1</host>
				<port>9951</port>
			</udp>
		</input>
		<protocol>
			<packet magic='ca:fe'>
				<signature random-bytes='1' signature-bytes='2' key='00:11:22:33'>
					<property type='pressure' bytes='4' path='/sensors/pressure/pressure'/>
					<property type='float' bytes='2' path='/sensors/temperature/outside.k'/>
					<property type='integer' bytes='4' path='/sensors/gps/read-errors'/>
					<property type='integer' bytes='1' path='/sensors/gps/fix-quality'/>
					<property type='integer' bytes='1' path='/sensors/gps/type-of-fix'/>
					<property type='angle' bytes='8' path='/sensors/gps/latitude'/>
					<property type='angle' bytes='8' path='/sensors/gps/longitude'/>
					<property type='length' bytes='4' path='/sensors/gps/altitude-amsl'/>
					<property type='length' bytes='4' path='/sensors/gps/altitude-above-wgs84'/>
					<property type='speed' bytes='4' path='/sensors/gps/groundspeed'/>
					<property type='angle' bytes='4' path='/sensors/gps/track'/>
					<property type='integer' bytes='1' path='/sensors/gps/tracked-satellites'/>
					<property type='float' bytes='2' path='/sensors/gps/hdop'/>
					<property type='float' bytes='2' path='/sensors/gps/vdop'/>
					<property type='length' bytes='4' path='/sensors/gps/lateral-accuracy'/>
					<property type='length' bytes='4' path='/sensors/gps/vertical-accuracy'/>
					<property type='time' bytes='8' path='/sensors/gps/update-timestamp'/>
					<property type='time' bytes='8' path='/sensors/gps/epoch-time'/>
					<bitfield>
						<property type='boolean' path='/sensors/gps/serviceable'/>
					</bitfield>
				</signature>
			</packet>
			<packet magic='e4:40'>
				<signature random-bytes='2' signature-bytes='2' key='44:55:66:77'>
					<property type='integer' bytes='2' path='/link/remote/failsafes'/>
					<bitfield>
						<property type='boolean' path='/link/remote/valid'/>
					</bitfield>
				</signature>
			</packet>
		</protocol>
	</module>
	<module name='io/link' instance='output'>
		<output frequency='30 Hz'>
			<udp>
				<host>192.168.0.10</host>
				<port>9952</port>
			</udp>
		</output>
		<protocol>
			<packet magic='e4:40'>
				<signature random-bytes='2' signature-bytes='4' key='88:99:aa:bb'>
				</signature>
			</packet>
		</protocol>
	</module>
</xefis-include>

